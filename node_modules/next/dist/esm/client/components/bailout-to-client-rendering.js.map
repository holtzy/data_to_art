{"version":3,"sources":["../../../src/client/components/bailout-to-client-rendering.ts"],"sourcesContent":["import { BailoutToCSRError } from '../../shared/lib/lazy-dynamic/bailout-to-csr'\nimport { workAsyncStorage } from '../../server/app-render/work-async-storage.external'\nimport { workUnitAsyncStorage } from '../../server/app-render/work-unit-async-storage.external'\n\nexport function bailoutToClientRendering(reason: string): void | never {\n  const workStore = workAsyncStorage.getStore()\n\n  if (workStore?.forceStatic) return\n\n  const workUnitStore = workUnitAsyncStorage.getStore()\n\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'prerender':\n      case 'prerender-client':\n      case 'prerender-ppr':\n      case 'prerender-legacy':\n        throw new BailoutToCSRError(reason)\n      default:\n    }\n  }\n}\n"],"names":["BailoutToCSRError","workAsyncStorage","workUnitAsyncStorage","bailoutToClientRendering","reason","workStore","getStore","forceStatic","workUnitStore","type"],"mappings":"AAAA,SAASA,iBAAiB,QAAQ,+CAA8C;AAChF,SAASC,gBAAgB,QAAQ,sDAAqD;AACtF,SAASC,oBAAoB,QAAQ,2DAA0D;AAE/F,OAAO,SAASC,yBAAyBC,MAAc;IACrD,MAAMC,YAAYJ,iBAAiBK,QAAQ;IAE3C,IAAID,6BAAAA,UAAWE,WAAW,EAAE;IAE5B,MAAMC,gBAAgBN,qBAAqBI,QAAQ;IAEnD,IAAIE,eAAe;QACjB,OAAQA,cAAcC,IAAI;YACxB,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;gBACH,MAAM,qBAA6B,CAA7B,IAAIT,kBAAkBI,SAAtB,qBAAA;2BAAA;gCAAA;kCAAA;gBAA4B;YACpC;QACF;IACF;AACF","ignoreList":[0]}